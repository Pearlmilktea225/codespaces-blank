--[[
    SYSTEM: UNIVERSALIS (THE LIBRARY OF GOD)
    類型：Multi-Game Script Hub (萬用腳本庫)
    收錄：100+ Scripts (Blox Fruits, TSB, Doors, Bedwars, etc.)
    核心：雲端載入 + 自動分類 + 功能介紹
]]

local Players = game:GetService("Players")
local TweenService = game:GetService("TweenService")
local CoreGui = game:GetService("CoreGui")
local Debris = game:GetService("Debris")

-- [0. 系統重置]
for _, g in pairs(CoreGui:GetChildren()) do
    if g.Name == "UNIVERSALIS_SYSTEM" then g:Destroy() end
end

-- [1. 萬界資料庫 (THE DATABASE)]
-- 這裡收錄了各大遊戲的最強開源腳本
local Database = {
    ["Universal (通用)"] = {
        {Name = "Infinite Yield", Desc = "最強指令腳本 (300+功能: 飛/穿牆/透視)", Url = "https://raw.githubusercontent.com/EdgeIY/infiniteyield/master/source"},
        {Name = "Nameless Admin", Desc = "手機版最佳管理員 (甩飛/惡搞)", Url = "https://raw.githubusercontent.com/FilteringEnabled/NamelessAdmin/main/Source"},
        {Name = "Dark Dex V3", Desc = "開發者工具 (查看遊戲物件/複製)", Url = "https://raw.githubusercontent.com/infyiff/backup/main/dex.lua"},
        {Name = "Simple Spy", Desc = "遠端監聽 (複製他人技能/觸發事件)", Url = "https://raw.githubusercontent.com/exxtremestuffs/SimpleSpySource/master/SimpleSpy.lua"},
        {Name = "Unnamed ESP", Desc = "最強通用透視 (方框/骨架/名字)", Url = "https://raw.githubusercontent.com/ic3w0lf22/Unnamed-ESP/master/UnnamedESP.lua"},
        {Name = "CMD-X", Desc = "老牌指令腳本 (穩定性高)", Url = "https://raw.githubusercontent.com/CMD-X/CMD-X/master/Source"},
        {Name = "Turtle Spy", Desc = "另一個強大的 Remote Spy", Url = "https://raw.githubusercontent.com/Turtle-Brand/Turtle-Spy/main/source.lua"},
        {Name = "Fullbright", Desc = "無限夜視 (永久亮光)", Url = "https://pastebin.com/raw/06iG6YkU"}
    },
    ["The Strongest Battlegrounds"] = {
        {Name = "Kade Hub", Desc = "TSB 最強免費 (自動格擋/連招)", Url = "https://raw.githubusercontent.com/3345-c-a-t-s-u-s/Kade-Hub/main/main.lua"},
        {Name = "TSB Utils", Desc = "殺戮光環/撞飛工具", Url = "https://raw.githubusercontent.com/skych4n/tsb-utils/main/main.lua"},
        {Name = "KJ Moveset", Desc = "KJ 角色動作模組", Url = "https://raw.githubusercontent.com/Draftiest/KJ-Script/main/Main.lua"},
        {Name = "Gojo Moveset", Desc = "五條悟動作模組", Url = "https://raw.githubusercontent.com/damir512/Gojo/main/Main.lua"},
        {Name = "Auto Farm (Kills)", Desc = "自動刷人頭 (慎用)", Url = "https://raw.githubusercontent.com/Universal-Scripts/TSB-Farm/main/source"}
    },
    ["Blox Fruits (海賊王)"] = {
        {Name = "Hoho Hub", Desc = "功能最全 (自動刷怪/水果/副本)", Url = "https://raw.githubusercontent.com/acsu123/HOHO_H/main/Loading_UI"},
        {Name = "Redz Hub", Desc = "手機優化極佳 (自動練級)", Url = "https://raw.githubusercontent.com/REDzHUB/BloxFruits/main/main.lua"},
        {Name = "W-Azure", Desc = "老牌穩定 (自動海戰/PVP)", Url = "https://raw.githubusercontent.com/Flowylol/Azure/main/git/source.lua"},
        {Name = "Mukuro Hub", Desc = "經典腳本 (自動刷骨頭/精通)", Url = "https://raw.githubusercontent.com/xDepressionx/Free-Script/main/AllScript.lua"},
        {Name = "Alchemy Hub", Desc = "自動尋找惡魔果實", Url = "https://raw.githubusercontent.com/Piyushwr/Alchemy/main/Source.lua"}
    },
    ["Doors (門)"] = {
        {Name = "Lsplashes (Vap)", Desc = "Doors 界的上帝 (透視/自動解謎)", Url = "https://raw.githubusercontent.com/mstudio45/poop/main/Poop.lua"},
        {Name = "Black King", Desc = "自動通關/十字架防禦", Url = "https://raw.githubusercontent.com/KINGHUB01/BlackKing/main/BlackKingObf.lua"},
        {Name = "MSpaint", Desc = "極簡風格透視", Url = "https://raw.githubusercontent.com/mspaint-cc/Doors/main/Script.lua"}
    },
    ["Blade Ball (劍球)"] = {
        {Name = "Bedol Hub", Desc = "最強自動格擋 (Auto Parry)", Url = "https://raw.githubusercontent.com/3345-c-a-t-s-u-s/Bedol-Hub/main/Main.lua"},
        {Name = "Visuals Only", Desc = "僅顯示球的軌跡 (防封)", Url = "https://raw.githubusercontent.com/L1ZOT/BladeBall-Visuals/main/main.lua"}
    },
    ["Bedwars (床戰)"] = {
        {Name = "Vape V4", Desc = "床戰外掛的頂點 (殺戮/飛行)", Url = "https://raw.githubusercontent.com/7GrandDadPGN/VapeV4ForRoblox/main/NewMainScript.lua"},
        {Name = "Snoopy", Desc = "輕量級 PVP 輔助", Url = "https://raw.githubusercontent.com/juywQm/Snoopy/main/Source.lua"}
    },
    ["Pet Sim 99"] = {
        {Name = "Zap Hub", Desc = "自動挖礦/自動開蛋", Url = "https://raw.githubusercontent.com/Zap-Hub/Zap/main/Main.lua"},
        {Name = "Redz Pet99", Desc = "活動專用自動腳本", Url = "https://raw.githubusercontent.com/REDzHUB/PetSimulator99/main/Source.lua"}
    },
    ["Murder Mystery 2"] = {
        {Name = "Eclipse Hub", Desc = "透視兇手/自動射擊/殺戮", Url = "https://raw.githubusercontent.com/Ethanoj1/EclipseMM2/master/Script"},
        {Name = "Vynixu", Desc = "自動撿槍/瞬移", Url = "https://raw.githubusercontent.com/Vynixu/MM2/main/Script.lua"}
    },
    ["Brookhaven (RP)"] = {
        {Name = "Ice Hub", Desc = "崩潰伺服器/無限道具/惡搞", Url = "https://raw.githubusercontent.com/IceMael7/IceHub/main/Brookhaven"},
        {Name = "Unfair Hub", Desc = "大量 RP 道具與動作", Url = "https://raw.githubusercontent.com/rblxscriptsnet/unfair/main/rblxhub.lua"}
    },
    ["Arsenal / FPS"] = {
        {Name = "Owl Hub", Desc = "自瞄/透視 (支援多款 FPS)", Url = "https://raw.githubusercontent.com/CriShoux/OwlHub/master/OwlHub.txt"},
        {Name = "Solaris", Desc = "Phantom Forces 自瞄", Url = "https://solarishub.dev/script.lua"}
    },
    ["Da Hood"] = {
        {Name = "SwagMode", Desc = "自動瞄準/無限子彈", Url = "https://raw.githubusercontent.com/lerkermer/swagmode/main/swagmode.lua"},
        {Name = "Faded", Desc = "最佳 PVP 輔助", Url = "https://raw.githubusercontent.com/NighterEpic/Faded/main/YesEpic.lua"}
    }
}

-- [2. UI 建構]
local ScreenGui = Instance.new("ScreenGui", CoreGui)
ScreenGui.Name = "UNIVERSALIS_SYSTEM"
ScreenGui.IgnoreGuiInset = true

-- 音效
local function PlayClick()
    local s = Instance.new("Sound", workspace); s.SoundId="rbxassetid://6042053626"; s.Volume=1; s:Play(); Debris:AddItem(s,1)
end

-- 主視窗
local Main = Instance.new("Frame", ScreenGui)
Main.Size = UDim2.new(0, 750, 0, 480)
Main.Position = UDim2.new(0.5, -375, 0.5, -240)
Main.BackgroundColor3 = Color3.fromRGB(8, 8, 12)
Main.BackgroundTransparency = 0.05
Instance.new("UICorner", Main).CornerRadius = UDim.new(0, 8)

-- 質感邊框
local Stroke = Instance.new("UIStroke", Main)
Stroke.Thickness = 2
Stroke.Color = Color3.fromRGB(0, 150, 255)
task.spawn(function()
    while Main.Parent do
        TweenService:Create(Stroke, TweenInfo.new(2), {Color = Color3.fromRGB(0, 255, 200)}):Play(); task.wait(2)
        TweenService:Create(Stroke, TweenInfo.new(2), {Color = Color3.fromRGB(0, 100, 255)}):Play(); task.wait(2)
    end
end)

-- 標題欄
local Sidebar = Instance.new("Frame", Main)
Sidebar.Size = UDim2.new(0.3, 0, 1, 0)
Sidebar.BackgroundColor3 = Color3.fromRGB(15, 15, 20)
Instance.new("UICorner", Sidebar).CornerRadius = UDim.new(0, 8)

local Title = Instance.new("TextLabel", Sidebar)
Title.Text = "UNIVERSALIS"
Title.Font = Enum.Font.Sarpanch
Title.TextSize = 28
Title.TextColor3 = Color3.fromRGB(0, 255, 255)
Title.Size = UDim2.new(1,0,0.1,0)
Title.BackgroundTransparency = 1

local CategoryList = Instance.new("ScrollingFrame", Sidebar)
CategoryList.Size = UDim2.new(1, -10, 0.85, 0)
CategoryList.Position = UDim2.new(0, 5, 0.12, 0)
CategoryList.BackgroundTransparency = 1
CategoryList.ScrollBarThickness = 2
local CatLayout = Instance.new("UIListLayout", CategoryList); CatLayout.Padding = UDim.new(0, 5)

-- 腳本顯示區
local Content = Instance.new("Frame", Main)
Content.Size = UDim2.new(0.68, 0, 0.7, 0)
Content.Position = UDim2.new(0.31, 0, 0.05, 0)
Content.BackgroundTransparency = 1

local ScriptScroll = Instance.new("ScrollingFrame", Content)
ScriptScroll.Size = UDim2.new(1, 0, 1, 0)
ScriptScroll.BackgroundTransparency = 1
ScriptScroll.ScrollBarThickness = 4
local ScriptLayout = Instance.new("UIListLayout", ScriptScroll); ScriptLayout.Padding = UDim.new(0, 8)

-- 描述區 (Footer)
local Footer = Instance.new("Frame", Main)
Footer.Size = UDim2.new(0.68, 0, 0.2, 0)
Footer.Position = UDim2.new(0.31, 0, 0.78, 0)
Footer.BackgroundColor3 = Color3.fromRGB(10, 10, 15)
Instance.new("UICorner", Footer).CornerRadius = UDim.new(0, 6)
Instance.new("UIStroke", Footer).Color = Color3.fromRGB(50, 50, 50)

local DescTitle = Instance.new("TextLabel", Footer)
DescTitle.Text = "INFO"
DescTitle.Font = Enum.Font.GothamBold
DescTitle.TextColor3 = Color3.fromRGB(100, 100, 100)
DescTitle.Size = UDim2.new(0.9, 0, 0.3, 0)
DescTitle.Position = UDim2.new(0.05, 0, 0.1, 0)
DescTitle.BackgroundTransparency = 1
DescTitle.TextXAlignment = Enum.TextXAlignment.Left

local DescText = Instance.new("TextLabel", Footer)
DescText.Text = "Hover over a script to see details."
DescText.Font = Enum.Font.Gotham
DescText.TextColor3 = Color3.fromRGB(255, 255, 255)
DescText.Size = UDim2.new(0.9, 0, 0.5, 0)
DescText.Position = UDim2.new(0.05, 0, 0.4, 0)
DescText.BackgroundTransparency = 1
DescText.TextXAlignment = Enum.TextXAlignment.Left
DescText.TextWrapped = true

-- [邏輯核心]
local function LoadScripts(categoryName)
    -- 清空舊按鈕
    for _, c in pairs(ScriptScroll:GetChildren()) do if c:IsA("Frame") then c:Destroy() end end
    
    local list = Database[categoryName]
    if list then
        for _, scriptData in pairs(list) do
            local Frame = Instance.new("Frame", ScriptScroll)
            Frame.Size = UDim2.new(0.98, 0, 0, 50)
            Frame.BackgroundColor3 = Color3.fromRGB(20, 20, 30)
            Instance.new("UICorner", Frame).CornerRadius = UDim.new(0, 6)
            
            local Name = Instance.new("TextLabel", Frame)
            Name.Text = scriptData.Name
            Name.Size = UDim2.new(0.7, 0, 1, 0)
            Name.Position = UDim2.new(0.05, 0, 0, 0)
            Name.TextColor3 = Color3.new(1,1,1)
            Name.Font = Enum.Font.GothamBold
            Name.TextXAlignment = Enum.TextXAlignment.Left
            Name.BackgroundTransparency = 1
            
            local LoadBtn = Instance.new("TextButton", Frame)
            LoadBtn.Size = UDim2.new(0.2, 0, 0.7, 0)
            LoadBtn.Position = UDim2.new(0.78, 0, 0.15, 0)
            LoadBtn.BackgroundColor3 = Color3.fromRGB(0, 100, 200)
            LoadBtn.Text = "EXECUTE"
            LoadBtn.TextColor3 = Color3.new(1,1,1)
            LoadBtn.Font = Enum.Font.GothamBold
            Instance.new("UICorner", LoadBtn).CornerRadius = UDim.new(0, 4)
            
            -- 懸停顯示描述
            Frame.MouseEnter:Connect(function()
                DescTitle.Text = "INFO: " .. scriptData.Name
                DescText.Text = scriptData.Desc
                TweenService:Create(Frame, TweenInfo.new(0.2), {BackgroundColor3=Color3.fromRGB(30, 30, 45)}):Play()
            end)
            Frame.MouseLeave:Connect(function()
                DescTitle.Text = "INFO"
                DescText.Text = "Hover over a script to see details."
                TweenService:Create(Frame, TweenInfo.new(0.2), {BackgroundColor3=Color3.fromRGB(20, 20, 30)}):Play()
            end)
            
            -- 執行
            LoadBtn.MouseButton1Click:Connect(function()
                PlayClick()
                DescText.Text = "DOWNLOADING & EXECUTING..."
                loadstring(game:HttpGet(scriptData.Url))()
                DescText.Text = "SUCCESSFULLY EXECUTED: " .. scriptData.Name
            end)
        end
    end
    -- 更新 Canvas
    ScriptScroll.CanvasSize = UDim2.new(0, 0, 0, ScriptLayout.AbsoluteContentSize.Y + 20)
end

-- 生成分類按鈕
for catName, _ in pairs(Database) do
    local Btn = Instance.new("TextButton", CategoryList)
    Btn.Size = UDim2.new(0.9, 0, 0, 40)
    Btn.BackgroundColor3 = Color3.fromRGB(25, 25, 35)
    Btn.Text = catName
    Btn.TextColor3 = Color3.fromRGB(150, 200, 255)
    Btn.Font = Enum.Font.GothamBold
    Instance.new("UICorner", Btn).CornerRadius = UDim.new(0, 6)
    
    Btn.MouseButton1Click:Connect(function()
        PlayClick()
        -- 重置樣式
        for _, b in pairs(CategoryList:GetChildren()) do
            if b:IsA("TextButton") then b.BackgroundColor3=Color3.fromRGB(25,25,35); b.TextColor3=Color3.fromRGB(150,200,255) end
        end
        Btn.BackgroundColor3 = Color3.fromRGB(0, 100, 200)
        Btn.TextColor3 = Color3.new(1,1,1)
        LoadScripts(catName)
    end)
end

-- 預設載入通用
LoadScripts("Universal (通用)")

-- 手機開關
if UserInputService.TouchEnabled then
    local M = Instance.new("TextButton", ScreenGui); M.Size=UDim2.new(0,50,0,50); M.Position=UDim2.new(0,10,0,50); M.BackgroundColor3=Color3.fromRGB(0,20,40); M.Text="HUB"; M.TextColor3=Color3.new(0,1,1); Instance.new("UICorner",M).CornerRadius=UDim.new(0,8)
    M.MouseButton1Click:Connect(function() Main.Visible = not Main.Visible end)
end
