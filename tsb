-- [[ çå¥¶è…³æœ¬ | TSB ç‰©ç†å„ªåŒ–ç‰ˆ ]] --
-- [[ è£½ä½œè€… BY çå¥¶ ]] --

do
    if not game:IsLoaded() then game.Loaded:Wait() end
    
    local Players = game:GetService("Players")
    local RunService = game:GetService("RunService")
    local UserInputService = game:GetService("UserInputService")
    local Workspace = game:GetService("Workspace")
    local CoreGui = game:GetService("CoreGui")
    local LocalPlayer = Players.LocalPlayer
    
    for _, g in pairs(CoreGui:GetChildren()) do
        if g.Name == "Jenna_Script_UI" then g:Destroy() end
    end

    getgenv().Config = {
        Target = "",
        IsFlinging = false,
        AntiFling = false,
        CustomSpeed = 16,
        CustomJump = 50,
        AutoTrashClick = false,
        SavedPosition = nil,
        AntiVoidPart = nil
    }

    -- å»ºç«‹ä¸»ä»‹é¢
    local ScreenGui = Instance.new("ScreenGui")
    ScreenGui.Name = "Jenna_Script_UI"
    ScreenGui.Parent = CoreGui
    ScreenGui.IgnoreGuiInset = true

    local MainFrame = Instance.new("Frame", ScreenGui)
    MainFrame.Size = UDim2.new(0, 450, 0, 520)
    MainFrame.Position = UDim2.new(0.5, -225, 0.5, -260)
    MainFrame.BackgroundColor3 = Color3.fromRGB(20, 20, 25)
    MainFrame.Active = true
    MainFrame.Draggable = true
    
    Instance.new("UICorner", MainFrame).CornerRadius = UDim.new(0, 6)
    Instance.new("UIStroke", MainFrame).Color = Color3.fromRGB(255, 170, 200)
    Instance.new("UIStroke", MainFrame).Thickness = 2

    local Title = Instance.new("TextLabel", MainFrame)
    Title.Text = "ğŸ§‹ çå¥¶è…³æœ¬ | TSB å°ˆç”¨ç‰ˆ"
    Title.Size = UDim2.new(1, 0, 0, 45)
    Title.BackgroundColor3 = Color3.fromRGB(30, 30, 35)
    Title.TextColor3 = Color3.fromRGB(255, 200, 220)
    Title.Font = Enum.Font.GothamBold
    Title.TextSize = 16
    Instance.new("UICorner", Title).CornerRadius = UDim.new(0, 6)

    local Container = Instance.new("ScrollingFrame", MainFrame)
    Container.Size = UDim2.new(0.92, 0, 0.86, 0)
    Container.Position = UDim2.new(0.04, 0, 0.11, 0)
    Container.BackgroundTransparency = 1
    Container.ScrollBarThickness = 3
    local UIList = Instance.new("UIListLayout", Container)
    UIList.Padding = UDim.new(0, 10)
    Container.AutomaticCanvasSize = Enum.AutomaticSize.Y

    -- // UI å…ƒä»¶ //
    local function CreateSection(text)
        local Label = Instance.new("TextLabel", Container)
        Label.Text = text
        Label.Size = UDim2.new(1, 0, 0, 20)
        Label.BackgroundTransparency = 1
        Label.TextColor3 = Color3.fromRGB(180, 180, 180)
        Label.Font = Enum.Font.GothamBold
        Label.TextXAlignment = Enum.TextXAlignment.Left
    end

    local function CreateToggle(text, callback)
        local Frame = Instance.new("Frame", Container)
        Frame.Size = UDim2.new(1, 0, 0, 38)
        Frame.BackgroundColor3 = Color3.fromRGB(30, 30, 38)
        Instance.new("UICorner", Frame).CornerRadius = UDim.new(0, 4)
        
        local Label = Instance.new("TextLabel", Frame)
        Label.Text = " " .. text
        Label.Size = UDim2.new(0.7, 0, 1, 0)
        Label.BackgroundTransparency = 1
        Label.TextColor3 = Color3.new(1, 1, 1)
        Label.Font = Enum.Font.Gotham
        Label.TextXAlignment = Enum.TextXAlignment.Left
        
        local Button = Instance.new("TextButton", Frame)
        Button.Size = UDim2.new(0, 60, 0, 28)
        Button.Position = UDim2.new(1, -65, 0.5, -14)
        Button.BackgroundColor3 = Color3.fromRGB(60, 60, 70)
        Button.Text = "OFF"
        Button.TextColor3 = Color3.fromRGB(255, 100, 100)
        Button.Font = Enum.Font.GothamBold
        Instance.new("UICorner", Button).CornerRadius = UDim.new(0, 4)
        
        local Toggled = false
        Button.MouseButton1Click:Connect(function()
            Toggled = not Toggled
            Button.Text = Toggled and "ON" or "OFF"
            Button.BackgroundColor3 = Toggled and Color3.fromRGB(100, 200, 100) or Color3.fromRGB(60, 60, 70)
            Button.TextColor3 = Toggled and Color3.fromRGB(20, 50, 20) or Color3.fromRGB(255, 100, 100)
            callback(Toggled)
        end)
    end

    local function CreateInput(placeholder, callback)
        local Box = Instance.new("TextBox", Container)
        Box.Size = UDim2.new(1, 0, 0, 38)
        Box.BackgroundColor3 = Color3.fromRGB(25, 25, 30)
        Box.PlaceholderText = placeholder
        Box.Text = ""
        Box.TextColor3 = Color3.fromRGB(255, 255, 255)
        Box.Font = Enum.Font.Gotham
        Instance.new("UICorner", Box).CornerRadius = UDim.new(0, 4)
        Instance.new("UIStroke", Box).Color = Color3.fromRGB(80, 80, 100)
        Box.FocusLost:Connect(function() callback(Box.Text) end)
    end

    -- // æ ¸å¿ƒé‚è¼¯ //
    CreateSection("ğŸ¯ ç›®æ¨™èˆ‡æ”»æ“Š")
    CreateInput("è¼¸å…¥ç›®æ¨™åç¨± (ä¾‹: Player123)", function(val) getgenv().Config.Target = val end)
    
    local FlingConn
    CreateToggle("å•Ÿå‹•é»è‘—ç”©é£› (ç©©å®šç‰ˆ)", function(state)
        getgenv().Config.IsFlinging = state
        if state then
            local Char = LocalPlayer.Character
            if Char and Char:FindFirstChild("HumanoidRootPart") then
                getgenv().Config.SavedPosition = Char.HumanoidRootPart.CFrame
            end
            
            FlingConn = RunService.Heartbeat:Connect(function()
                if not getgenv().Config.IsFlinging then return end
                local LP = Players.LocalPlayer
                local C = LP.Character
                local TargetPlr
                for _, v in pairs(Players:GetPlayers()) do
                    if v ~= LP and string.sub(v.Name:lower(), 1, #getgenv().Config.Target) == getgenv().Config.Target:lower() then 
                        TargetPlr = v break 
                    end
                end

                if C and C:FindFirstChild("HumanoidRootPart") and TargetPlr and TargetPlr.Character and TargetPlr.Character:FindFirstChild("HumanoidRootPart") then
                    local TRP = TargetPlr.Character.HumanoidRootPart
                    local LRP = C.HumanoidRootPart
                    
                    LRP.CFrame = TRP.CFrame
                    -- ä¿®å¾©äº‚é£›ï¼šç·šæ€§é€Ÿåº¦æ­¸é›¶ï¼Œåªä¿ç•™æ¥µé«˜çš„æ—‹è½‰è§’é€Ÿåº¦
                    LRP.AssemblyLinearVelocity = Vector3.new(0, 0, 0)
                    LRP.AssemblyAngularVelocity = Vector3.new(50000, 50000, 50000)
                    
                    for _, p in pairs(C:GetDescendants()) do
                        if p:IsA("BasePart") then p.CanCollide = false p.Massless = true end
                    end
                end
            end)
        else
            if FlingConn then FlingConn:Disconnect() end
            local C = LocalPlayer.Character
            if C and C:FindFirstChild("HumanoidRootPart") then
                C.HumanoidRootPart.Velocity = Vector3.zero
                C.HumanoidRootPart.AssemblyAngularVelocity = Vector3.zero
                if getgenv().Config.SavedPosition then
                    task.wait(0.1)
                    C.HumanoidRootPart.CFrame = getgenv().Config.SavedPosition
                end
            end
        end
    end)

    CreateSection("âš¡ è§’è‰²ä¿®æ”¹")
    CreateInput("ä¿®æ”¹ç§»å‹•é€Ÿåº¦ (é è¨­ 16)", function(val) getgenv().Config.CustomSpeed = tonumber(val) or 16 end)
    CreateInput("ä¿®æ”¹è·³èºé«˜åº¦ (é è¨­ 50)", function(val) getgenv().Config.CustomJump = tonumber(val) or 50 end)
    
    RunService.RenderStepped:Connect(function()
        local Char = LocalPlayer.Character
        if Char and Char:FindFirstChild("Humanoid") and Char:FindFirstChild("HumanoidRootPart") then
            if getgenv().Config.CustomSpeed > 16 then
                local MoveDir = Char.Humanoid.MoveDirection
                if MoveDir.Magnitude > 0 then
                    Char.HumanoidRootPart.CFrame = Char.HumanoidRootPart.CFrame + (MoveDir * (getgenv().Config.CustomSpeed / 100))
                end
            end
        end
    end)

    local isJumping = false
    UserInputService.JumpRequest:Connect(function()
        if getgenv().Config.CustomJump > 50 and not isJumping then
            isJumping = true
            local Char = LocalPlayer.Character
            if Char and Char:FindFirstChild("HumanoidRootPart") then
                Char.HumanoidRootPart.Velocity = Vector3.new(Char.HumanoidRootPart.Velocity.X, getgenv().Config.CustomJump, Char.HumanoidRootPart.Velocity.Z)
            end
            task.wait(0.2) -- é˜²å¡é “/é€£è·³å»¶é²
            isJumping = false
        end
    end)

    CreateSection("ğŸ›¡ï¸ ç‰©ç†é˜²è­·èˆ‡åŠŸèƒ½")
    CreateToggle("ç‰©ç†å…ç–«è™›ç©º (ç”Ÿæˆå¯¦é«”éš±å½¢åœ°æ¿)", function(state)
        if state then
            if not getgenv().Config.AntiVoidPart then
                local Part = Instance.new("Part", Workspace)
                Part.Size = Vector3.new(5000, 5, 5000)
                Part.Position = Vector3.new(0, -25, 0) -- TSB è™›ç©ºåˆ¤å®šç·šä¸Šæ–¹
                Part.Anchored = true
                Part.Transparency = 1 -- éš±å½¢
                Part.CanCollide = true
                getgenv().Config.AntiVoidPart = Part
            end
        else
            if getgenv().Config.AntiVoidPart then
                getgenv().Config.AntiVoidPart:Destroy()
                getgenv().Config.AntiVoidPart = nil
            end
        end
    end)

    CreateToggle("é˜²å½ˆé£› (é˜²æ­¢è¢«ä»–äººç•°å¸¸æ“Šé£›)", function(state) getgenv().Config.AntiFling = state end)
    RunService.Stepped:Connect(function()
        if getgenv().Config.AntiFling and not getgenv().Config.IsFlinging then
            local Char = LocalPlayer.Character
            if Char and Char:FindFirstChild("HumanoidRootPart") then
                if Char.HumanoidRootPart.Velocity.Magnitude > 150 then
                    Char.HumanoidRootPart.Velocity = Vector3.zero
                    Char.HumanoidRootPart.AssemblyAngularVelocity = Vector3.zero
                end
            end
        end
    end)

    CreateToggle("æ™®æ”»æ’¿åƒåœ¾ (å·¦éµè‡ªå‹•ä¾†å›å‚³é€)", function(state)
        getgenv().Config.AutoTrashClick = state
    end)

    local isTrashing = false
    UserInputService.InputBegan:Connect(function(input, gameProcessed)
        if gameProcessed then return end
        if input.UserInputType == Enum.UserInputType.MouseButton1 and getgenv().Config.AutoTrashClick and not isTrashing then
            isTrashing = true
            local Char = LocalPlayer.Character
            if Char and Char:FindFirstChild("HumanoidRootPart") then
                -- å°‹æ‰¾æœ€è¿‘çš„åƒåœ¾æ¡¶
                local targetTrash = nil
                for _, obj in pairs(Workspace:GetDescendants()) do
                    if obj:IsA("ProximityPrompt") and string.find(obj.Parent.Name:lower(), "trash") then
                        targetTrash = obj
                        break
                    end
                end

                if targetTrash then
                    local originalPos = Char.HumanoidRootPart.CFrame
                    -- å‚³é€éå»
                    Char.HumanoidRootPart.CFrame = targetTrash.Parent.CFrame
                    task.wait(0.15)
                    fireproximityprompt(targetTrash)
                    task.wait(0.1)
                    -- å‚³é€å›ä¾†
                    Char.HumanoidRootPart.CFrame = originalPos
                end
            end
            task.wait(0.5) -- å†·å»æ™‚é–“
            isTrashing = false
        end
    end)

    -- // æœ€å°åŒ–æŒ‰éˆ• //
    local ToggleBtn = Instance.new("ImageButton", ScreenGui)
    ToggleBtn.Size = UDim2.new(0, 45, 0, 45)
    ToggleBtn.Position = UDim2.new(0.05, 0, 0.05, 0)
    ToggleBtn.BackgroundColor3 = Color3.fromRGB(30, 25, 30)
    ToggleBtn.Image = "rbxassetid://13465637257"
    Instance.new("UICorner", ToggleBtn).CornerRadius = UDim.new(0, 8)
    Instance.new("UIStroke", ToggleBtn).Color = Color3.fromRGB(255, 170, 200)
    
    local Open = true
    ToggleBtn.MouseButton1Click:Connect(function()
        Open = not Open
        MainFrame.Visible = Open
    end)

end
